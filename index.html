<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#0f1419">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>SIGMA - Croix Blanche</title>
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect fill='%23e63946' rx='20' width='100' height='100'/><text x='50' y='65' text-anchor='middle' font-size='50'>âœš</text></svg>">
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=JetBrains+Mono:wght@500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <script src="https://unpkg.com/html5-qrcode@2.3.8/html5-qrcode.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>
<body>

  <div class="loading-overlay" id="loading">
    <div class="spinner"></div>
    <div class="loading-text">Chargement...</div>
  </div>

  <div class="toast" id="toast"></div>

  <div class="source-modal" id="source-modal">
    <div class="source-modal-content">
      <div class="source-modal-header">
        <h3>ComplÃ©ter depuis...</h3>
        <button class="close-modal" onclick="closeSourceModal()">Ã—</button>
      </div>
      <div id="source-options"></div>
    </div>
  </div>

  <div class="screen active" id="screen-login">
    <div class="logo">
      <div class="logo-icon">âœš</div>
      <h1>SIGMA</h1>
      <div class="acronym-detail">Suivi des Inventaires et Gestion du MAtÃ©riel</div>
      <div class="org-name">Secouristes FranÃ§ais Croix Blanche</div>
    </div>

    <div class="form-group">
      <label>Identifiant</label>
      <select id="login-user">
        <option value="">Choisir un utilisateur...</option>
      </select>
    </div>

    <div class="form-group">
      <label>Code personnel</label>
      <input type="password" id="login-pin" class="code-input" placeholder="â€¢â€¢â€¢â€¢" maxlength="4" inputmode="numeric">
    </div>

    <div style="height: 30px"></div>

    <button class="btn btn-primary" id="btn-login">
      Connexion
      <span>â†’</span>
    </button>
  </div>

  <div class="screen" id="screen-home">
    <div class="home-header">
      <h2>Bonjour <span id="home-user-name">-</span> ğŸ‘‹</h2>
      <p>Que souhaitez-vous faire ?</p>
    </div>

    <!-- Carte de classement utilisateur -->
    <div class="user-rank-card" id="user-rank-card" style="display: none;">
      <div class="rank-header">
        <div class="rank-emoji" id="user-rank-emoji">ğŸ©¹</div>
        <div class="rank-info">
          <div class="rank-title" id="user-rank-title">Compteur de Pansements</div>
          <div class="rank-progress-bar">
            <div class="rank-progress-fill" id="user-rank-progress"></div>
          </div>
          <div class="rank-stats">
            <span id="user-ops-count">0</span> opÃ©rations
          </div>
        </div>
      </div>
      
      <div class="badges-container" id="user-badges" style="display: none;">
        <div class="badges-title">ğŸ… Badges obtenus :</div>
        <div class="badges-list" id="user-badges-list"></div>
      </div>
      
      <button class="btn-link" onclick="enterMode('leaderboard')">
        Voir le classement complet â†’
      </button>
    </div>

    <div class="mode-cards">
      <div class="mode-card" onclick="enterMode('intervention')">
        <div class="mode-icon intervention">ğŸš‘</div>
        <div class="mode-info">
          <h3>Intervention</h3>
          <p>Sortir du matÃ©riel utilisÃ© sur victime ou transfÃ©rer entre sacs</p>
        </div>
        <span class="mode-arrow">â€º</span>
      </div>

      <div class="mode-card" onclick="enterMode('inventaire')">
        <div class="mode-icon inventaire">ğŸ“‹</div>
        <div class="mode-info">
          <h3>Inventaire</h3>
          <p>VÃ©rifier le contenu d'un sac et complÃ©ter les manques</p>
        </div>
        <span id="inventaire-badge" class="mode-badge" style="display: none;">!</span>
        <span class="mode-arrow">â€º</span>
      </div>

      <div class="mode-card" onclick="enterMode('peremption')">
        <div class="mode-icon peremption">â°</div>
        <div class="mode-info">
          <h3>PÃ©remptions</h3>
          <p>GÃ©rer les dates de pÃ©remption du matÃ©riel</p>
        </div>
        <span id="peremption-badge" class="mode-badge" style="display: none;">0</span>
        <span class="mode-arrow">â€º</span>
      </div>

      <div class="mode-card" onclick="enterMode('vehicles')">
        <div class="mode-icon vehicles">ğŸš‘</div>
        <div class="mode-info">
          <h3>VÃ©hicules</h3>
          <p>Parc, entretien et rÃ©visions</p>
        </div>
        <span class="mode-arrow">â€º</span>
      </div>

      <div class="mode-card" id="qr-generator-card" style="display: none;" onclick="enterMode('qrcode')">
        <div class="mode-icon qrcode">ğŸ”²</div>
        <div class="mode-info">
          <h3>GÃ©nÃ©rateur QR</h3>
          <p>CrÃ©er des QR codes pour les sacs</p>
        </div>
        <span class="mode-arrow">â€º</span>
      </div>

      <div class="mode-card" onclick="enterMode('leaderboard')">
        <div class="mode-icon leaderboard">ğŸ†</div>
        <div class="mode-info">
         <h3>Classement</h3>
         <p>Voir les meilleurs logisticiens</p>
        </div>
        <span class="mode-arrow">â€º</span>
      </div>


    </div>

    <button class="btn logout-btn" onclick="logout()">
      DÃ©connexion
    </button>
  </div>

  <div class="screen" id="screen-scan">
    <div class="header">
      <button class="back-btn" onclick="goToScreen('screen-home')">â†</button>
      <div class="header-title">
        <h2>Intervention</h2>
        <p>Scannez ou choisissez un sac</p>
      </div>
      <div class="user-badge" id="user-badge">
        <span>ğŸ‘¤</span>
        <span id="current-user-name">-</span>
      </div>
    </div>

    <div class="scan-area" id="scan-area">
      <div id="qr-reader" style="display: none;"></div>
      <div class="scan-placeholder" id="scan-placeholder">
        <div class="corner-tr"></div>
        <div class="corner-bl"></div>
        <div class="scan-icon">ğŸ“·</div>
      </div>
      <p>Scanner le QR code du sac</p>
      <p class="hint">Positionnez le code dans le cadre</p>
      <button class="btn btn-secondary scan-btn" id="btn-scan">
        ğŸ“· Activer la camÃ©ra
      </button>
    </div>

    <div class="divider">ou sÃ©lectionner manuellement</div>

    <div class="bag-list" id="bag-list"></div>
  </div>

  <div class="screen" id="screen-inventory">
    <div class="bag-header" id="bag-header">
      <button class="back-btn" onclick="goToScreen('screen-scan')">â†</button>
      <h2 id="bag-title">-</h2>
      <p id="bag-subtitle">-</p>
      <div class="bag-stats">
        <div class="stat">
          <div class="stat-value" id="stat-articles">0</div>
          <div class="stat-label">Articles</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="stat-pochons">0</div>
          <div class="stat-label">Pochons</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="stat-status">-</div>
          <div class="stat-label">Ã‰tat</div>
        </div>
      </div>
    </div>

    <div class="inventory-content" id="inventory-content"></div>

    <div class="floating-container">
      <button class="btn btn-primary" id="btn-validate" disabled>
        Valider la sortie (<span id="selected-count">0</span> articles)
        <span>â†’</span>
      </button>
    </div>
  </div>

  <div class="screen" id="screen-destination">
    <div class="header">
      <button class="back-btn" onclick="goToScreen('screen-inventory')">â†</button>
      <div class="header-title">
        <h2>Destination</h2>
        <p>OÃ¹ va ce matÃ©riel ?</p>
      </div>
    </div>

    <div class="selection-summary">
      <h3>MatÃ©riel sÃ©lectionnÃ©</h3>
      <div class="selected-items" id="selected-items"></div>
    </div>

    <div class="destination-section">
      <h3>Choisir la destination</h3>
      
      <div class="destination-options">
        <div class="dest-option selected" data-dest="victime" onclick="selectDestination(this)">
          <div class="dest-icon victim">ğŸš‘</div>
          <div class="dest-info">
            <h4>UtilisÃ© sur victime</h4>
            <p>MatÃ©riel consommÃ© lors d'une intervention</p>
          </div>
          <div class="dest-check">âœ“</div>
        </div>

        <div class="dest-option" data-dest="transfert" onclick="selectDestination(this)">
          <div class="dest-icon transfer">â†”ï¸</div>
          <div class="dest-info">
            <h4>Transfert vers autre sac</h4>
            <p>DÃ©placer vers un autre contenant</p>
          </div>
          <div class="dest-check">âœ“</div>
          <div class="sub-options" style="display: none;">
            <select id="transfer-target">
              <option value="">Choisir le sac destination...</option>
            </select>
          </div>
        </div>

        <div class="dest-option" data-dest="retour" onclick="selectDestination(this)">
          <div class="dest-icon return">ğŸ—„ï¸</div>
          <div class="dest-info">
            <h4>Retour armoire</h4>
            <p>RÃ©intÃ©grer dans la rÃ©serve</p>
          </div>
          <div class="dest-check">âœ“</div>
        </div>
      </div>
    </div>

    <div class="confirm-section">
      <div class="note">
        <textarea id="movement-note" placeholder="Note optionnelle (nÂ° intervention, remarque...)"></textarea>
      </div>
      <button class="btn btn-danger" id="btn-confirm">
        âœ“ Confirmer la sortie
      </button>
    </div>
  </div>

  <div class="screen" id="screen-inventaire-select">
    <div class="header">
      <button class="back-btn" onclick="goToScreen('screen-home')">â†</button>
      <div class="header-title">
        <h2>Inventaire</h2>
        <p>Choisissez un sac Ã  inventorier</p>
      </div>
    </div>

    <div class="bag-list" id="inventaire-bag-list"></div>
  </div>

  <div class="screen" id="screen-inventaire-detail">
    <div class="bag-header blue" id="inventaire-header">
      <button class="back-btn" onclick="goToScreen('screen-inventaire-select')">â†</button>
      <h2 id="inventaire-title">-</h2>
      <p id="inventaire-subtitle">Inventaire du contenu</p>
      <div class="bag-stats">
        <div class="stat">
          <div class="stat-value" id="inventaire-stat-ok">0</div>
          <div class="stat-label">Complet</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="inventaire-stat-manque">0</div>
          <div class="stat-label">Manquant</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="inventaire-stat-exces">0</div>
          <div class="stat-label">ExcÃ¨s</div>
        </div>
      </div>
    </div>

    <div class="filter-tabs" id="inventaire-filters">
      <button class="filter-tab active" data-filter="all" onclick="filterInventaire('all')">
        Tout
      </button>
      <button class="filter-tab" data-filter="manque" onclick="filterInventaire('manque')">
        Manquants <span class="count" id="filter-count-manque">0</span>
      </button>
      <button class="filter-tab" data-filter="exces" onclick="filterInventaire('exces')">
        ExcÃ¨s <span class="count" id="filter-count-exces">0</span>
      </button>
    </div>

    <div class="inventory-content" id="inventaire-content"></div>

    <div class="floating-container" id="inventaire-floating" style="display: none;">
      <button class="btn btn-success" id="btn-completer">
        ComplÃ©ter les manques (<span id="manque-count">0</span>)
        <span>â†’</span>
      </button>
    </div>
  </div>

  <div class="screen" id="screen-peremption">
    <div class="header">
      <button class="back-btn" onclick="goToScreen('screen-home')">â†</button>
      <div class="header-title">
        <h2>PÃ©remptions</h2>
        <p>Suivi des dates de validitÃ©</p>
      </div>
    </div>

    <div class="alert-summary" id="peremption-summary">
      <div class="alert-box expired">
        <div class="number" id="peremption-expired-count">0</div>
        <div class="label">PÃ©rimÃ©s</div>
      </div>
      <div class="alert-box warning">
        <div class="number" id="peremption-warning-count">0</div>
        <div class="label">< 30 jours</div>
      </div>
    </div>

    <div class="filter-tabs" id="peremption-filters">
      <button class="filter-tab active" data-filter="alerts" onclick="filterPeremption('alerts')">
        ğŸš¨ Alertes
      </button>
      <button class="filter-tab" data-filter="all" onclick="filterPeremption('all')">
        Tous
      </button>
    </div>

    <div id="peremption-content"></div>
  </div>


  <div class="screen" id="screen-qrcode">
    <div class="header">
      <button class="back-btn" onclick="goToScreen('screen-home')">â†</button>
      <div class="header-title">
        <h2>GÃ©nÃ©rateur QR</h2>
        <p>CrÃ©ez vos QR codes</p>
      </div>
    </div>

    <div class="info-banner">
      <strong>ğŸ’¡ Comment l'utiliser :</strong><br>
      SÃ©lectionnez les sacs/armoires depuis Google Sheets, gÃ©nÃ©rez les QR codes, puis imprimez et plastifiez.
    </div>

    <div class="qr-gen-controls">
      <div id="contenant-selection-list"></div>
      
      <button class="btn btn-primary" onclick="generateQRFromSelection()" style="margin-top: 10px;">ğŸ”² GÃ©nÃ©rer les QR codes sÃ©lectionnÃ©s</button>
      <button class="btn btn-secondary" onclick="clearAllQR()" style="margin-top: 10px;">ğŸ—‘ï¸ Tout effacer</button>
    </div>

    <div class="qr-grid" id="qr-grid-main"></div>
  </div>


  <!-- Vehicles List Screen -->
  <div class="screen" id="screen-vehicles">
    <div class="header">
      <button class="back-btn" onclick="goToScreen('screen-home')">â†</button>
      <div class="header-title">
        <h2>VÃ©hicules</h2>
        <p>Parc et entretien</p>
      </div>
    </div>

    <button class="btn btn-success" onclick="goToScreen('screen-add-vehicle')" style="margin-bottom: 20px">
      <span>â•</span>
      Nouveau vÃ©hicule
    </button>

    <div class="filter-section">
      <div class="filter-tab active" data-filter="all" onclick="filterVehicles('all')">Tous</div>
      <div class="filter-tab" data-filter="car" onclick="filterVehicles('car')">ğŸš— Voitures</div>
      <div class="filter-tab" data-filter="ambulance" onclick="filterVehicles('ambulance')">ğŸš‘ Ambulances</div>
      <div class="filter-tab" data-filter="quad" onclick="filterVehicles('quad')">ğŸï¸ Quad</div>
      <div class="filter-tab" data-filter="boat" onclick="filterVehicles('boat')">ğŸš¤ Bateau</div>
      <div class="filter-tab" data-filter="trailer" onclick="filterVehicles('trailer')">ğŸšš Remorques</div>
    </div>

    <div id="vehicles-list"></div>
  </div>

  <!-- Add/Edit Vehicle Screen -->
  <div class="screen" id="screen-add-vehicle">
    <div class="header">
      <button class="back-btn" onclick="goToScreen('screen-vehicles')">â†</button>
      <div class="header-title">
        <h2 id="vehicle-form-title">Nouveau vÃ©hicule</h2>
      </div>
    </div>

    <div class="form-group">
      <label>Nom du vÃ©hicule</label>
      <input type="text" id="vehicle-nom" placeholder="Ex: VSAV 1">
    </div>

    <div class="form-group">
      <label>Type</label>
      <select id="vehicle-type">
        <option value="ambulance">ğŸš‘ Ambulance</option>
        <option value="car">ğŸš— VÃ©hicule de liaison</option>
        <option value="car">ğŸš— Jumpy de transport</option>
        <option value="quad">ğŸï¸ Quad</option>
        <option value="boat">ğŸš¤ Bateau</option>
        <option value="trailer">ğŸšš Remorque</option>
      </select>
    </div>

    <div class="form-group">
      <label>Immatriculation</label>
      <input type="text" id="vehicle-immat" placeholder="Ex: AB-123-CD" style="text-transform: uppercase">
    </div>

    <div class="form-group">
      <label>Marque</label>
      <input type="text" id="vehicle-marque" placeholder="Ex: Peugeot">
    </div>

    <div class="form-group">
      <label>ModÃ¨le</label>
      <input type="text" id="vehicle-modele" placeholder="Ex: Expert">
    </div>

    <div class="form-group">
      <label>AnnÃ©e</label>
      <input type="number" id="vehicle-annee" placeholder="Ex: 2020">
    </div>

    <div class="form-group">
      <label>KilomÃ©trage actuel</label>
      <input type="number" id="vehicle-km" placeholder="Ex: 45000">
    </div>

    <button class="btn btn-success" onclick="saveVehicle()">
      <span>ğŸ’¾</span>
      Enregistrer
    </button>
  </div>

  <!-- Vehicle Detail Screen -->
  <div class="screen" id="screen-vehicle-detail">
    <div class="header">
      <button class="back-btn" onclick="goToScreen('screen-vehicles')">â†</button>
      <div class="header-title">
        <h2 id="vehicle-detail-title">DÃ©tail vÃ©hicule</h2>
        <p id="vehicle-detail-subtitle"></p>
      </div>
    </div>

    <div class="tabs">
      <div class="tab active" data-tab="info" onclick="switchVehicleTab('info')">
        ğŸ“‹ Infos
      </div>
      <div class="tab" data-tab="contracts" onclick="switchVehicleTab('contracts')">
        ğŸ“„ Contrats
      </div>
      <div class="tab" data-tab="revisions" onclick="switchVehicleTab('revisions')">
        ğŸ”§ RÃ©visions
      </div>
      <div class="tab" data-tab="events" onclick="switchVehicleTab('events')">
        ğŸ“ Journal
      </div>
    </div>

    <!-- Info Tab -->
    <div id="tab-info" class="tab-content active">
      <div id="vehicle-info-grid" class="info-grid"></div>
      <div style="display: flex; gap: 10px; margin-top: 20px">
        <button class="btn btn-primary" onclick="editVehicle()" style="flex: 1">
          <span>âœï¸</span>
          Modifier
        </button>
        <button class="btn btn-danger" onclick="deleteVehicle()" style="flex: 1">
          <span>ğŸ—‘ï¸</span>
          Supprimer
        </button>
      </div>
    </div>

    <!-- Contracts Tab -->
    <div id="tab-contracts" class="tab-content">
      <div id="next-contract-alert"></div>
      <button class="btn btn-success" onclick="showAddContractModal()" style="margin-bottom: 20px">
        <span>â•</span>
        Ajouter un contrat
      </button>
      <div id="contracts-list"></div>
    </div>

    <!-- Revisions Tab -->
    <div id="tab-revisions" class="tab-content">
      <div id="next-revision-alert"></div>
      <button class="btn btn-success" onclick="showAddRevisionModal()" style="margin-bottom: 20px">
        <span>â•</span>
        Ajouter une rÃ©vision
      </button>
      <div id="revisions-list"></div>
    </div>

    <!-- Events Tab -->
    <div id="tab-events" class="tab-content">
      <button class="btn btn-success" onclick="showAddEventModal()" style="margin-bottom: 20px">
        <span>â•</span>
        Ajouter un Ã©vÃ©nement
      </button>
      <div id="events-list"></div>
    </div>
  </div>

  <!-- Modal Backdrop -->
  <div id="modal-backdrop" class="modal-backdrop" onclick="closeVehicleModal()"></div>

  <!-- Add Contract Modal -->
  <div id="modal-add-contract" class="modal">
    <h3>Ajouter un contrat</h3>
    <div class="form-group">
      <label>Type</label>
      <select id="contract-type">
        <option value="assurance">Assurance</option>
        <option value="entretien">Entretien</option>
      </select>
    </div>
    <div class="form-group">
      <label>Fournisseur</label>
      <input type="text" id="contract-fournisseur" placeholder="Ex: Groupama">
    </div>
    <div class="form-group">
      <label>NumÃ©ro de contrat</label>
      <input type="text" id="contract-numero" placeholder="Ex: 123456789">
    </div>
    <div class="form-group">
      <label>Date de dÃ©but</label>
      <input type="date" id="contract-date-debut">
    </div>
    <div class="form-group">
      <label>Date de fin</label>
      <input type="date" id="contract-date-fin">
    </div>
    <div class="form-group">
      <label>Description</label>
      <textarea id="contract-description" placeholder="DÃ©tails du contrat..."></textarea>
    </div>
    <div style="display: flex; gap: 10px">
      <button class="btn btn-secondary" onclick="closeVehicleModal()" style="flex: 1">Annuler</button>
      <button class="btn btn-success" onclick="saveContract()" style="flex: 1"><span>Enregistrer</span></button>
    </div>
  </div>

  <!-- Add Revision Modal -->
  <div id="modal-add-revision" class="modal">
    <h3>Ajouter une rÃ©vision</h3>
    <div class="form-group">
      <label>Date de rÃ©vision</label>
      <input type="date" id="revision-date">
    </div>
    <div class="form-group">
      <label>KilomÃ©trage</label>
      <input type="number" id="revision-km" placeholder="Ex: 50000">
    </div>
    <div class="form-group">
      <label>Type de rÃ©vision</label>
      <input type="text" id="revision-type" placeholder="Ex: RÃ©vision complÃ¨te, Vidange...">
    </div>
    <div class="form-group">
      <label>Prochaine rÃ©vision (date)</label>
      <input type="date" id="revision-next-date">
    </div>
    <div class="form-group">
      <label>Compte rendu</label>
      <textarea id="revision-notes" placeholder="DÃ©tails de la rÃ©vision..."></textarea>
    </div>
    <div style="display: flex; gap: 10px">
      <button class="btn btn-secondary" onclick="closeVehicleModal()" style="flex: 1">Annuler</button>
      <button class="btn btn-success" onclick="saveRevision()" style="flex: 1"><span>Enregistrer</span></button>
    </div>
  </div>

  <!-- Add Event Modal -->
  <div id="modal-add-event" class="modal">
    <h3>Ajouter un Ã©vÃ©nement</h3>
    <div class="form-group">
      <label>Type</label>
      <select id="event-type">
        <option value="panne">ğŸ”´ Panne</option>
        <option value="entretien">ğŸ”§ Entretien</option>
        <option value="info">â„¹ï¸ Information</option>
      </select>
    </div>
    <div class="form-group">
      <label>Titre</label>
      <input type="text" id="event-title" placeholder="Ex: ProblÃ¨me de dÃ©marrage">
    </div>
    <div class="form-group">
      <label>Date</label>
      <input type="date" id="event-date">
    </div>
    <div class="form-group">
      <label>Description</label>
      <textarea id="event-description" placeholder="DÃ©tails de l'Ã©vÃ©nement..."></textarea>
    </div>
    <div style="display: flex; gap: 10px">
      <button class="btn btn-secondary" onclick="closeVehicleModal()" style="flex: 1">Annuler</button>
      <button class="btn btn-success" onclick="saveEvent()" style="flex: 1"><span>Enregistrer</span></button>
    </div>
  </div>

  <script src="app.js"></script>

  <!-- Ã‰cran de classement -->
  <div class="screen" id="screen-leaderboard">
    <div class="header">
      <button class="back-btn" onclick="goToScreen('screen-home')">â†</button>
      <div class="header-title">
        <h2>ğŸ† Classement</h2>
        <p>Les meilleurs logisticiens</p>
      </div>
    </div>

    <div class="leaderboard-container">
      <!-- Podium -->
      <div class="podium" id="podium">
        <div class="podium-place second" id="podium-2">
          <div class="podium-rank">ğŸ¥ˆ</div>
          <div class="podium-name">-</div>
          <div class="podium-rank-title">-</div>
          <div class="podium-ops">0 ops</div>
        </div>
        
        <div class="podium-place first" id="podium-1">
          <div class="podium-rank">ğŸ¥‡</div>
          <div class="podium-name">-</div>
          <div class="podium-rank-title">-</div>
          <div class="podium-ops">0 ops</div>
        </div>
        
        <div class="podium-place third" id="podium-3">
          <div class="podium-rank">ğŸ¥‰</div>
          <div class="podium-name">-</div>
          <div class="podium-rank-title">-</div>
          <div class="podium-ops">0 ops</div>
        </div>
      </div>

      <!-- Liste complÃ¨te -->
      <div class="leaderboard-list" id="leaderboard-list">
        <!-- GÃ©nÃ©rÃ© dynamiquement -->
      </div>
    </div>

    <!-- LÃ©gende des badges -->
    <div class="badges-legend">
      <h3>ğŸ… Badges disponibles</h3>
      <div class="badges-grid">
        <div class="badge-legend-item">
          <span class="badge-icon">ğŸ”¦</span>
          <span class="badge-name">Flashouilleur</span>
          <span class="badge-desc">100 scans QR</span>
        </div>
        <div class="badge-legend-item">
          <span class="badge-icon">ğŸ“¦</span>
          <span class="badge-name">Accro au Stock</span>
          <span class="badge-desc">500 ops/mois</span>
        </div>
        <div class="badge-legend-item">
          <span class="badge-icon">ğŸŒ™</span>
          <span class="badge-name">Hibou Logistique</span>
          <span class="badge-desc">Op. aprÃ¨s 22h</span>
        </div>
        <div class="badge-legend-item">
          <span class="badge-icon">âš¡</span>
          <span class="badge-name">Ã‰clair</span>
          <span class="badge-desc">50 ops/jour</span>
        </div>
        <div class="badge-legend-item">
          <span class="badge-icon">ğŸ”„</span>
          <span class="badge-name">Marathonien</span>
          <span class="badge-desc">7 jours consÃ©cutifs</span>
        </div>
        <div class="badge-legend-item">
          <span class="badge-icon">ğŸ“</span>
          <span class="badge-name">LÃ¨ve-tÃ´t</span>
          <span class="badge-desc">Op. 6h-8h</span>
        </div>
      </div>
    </div>
  </div>
</body>
</html>